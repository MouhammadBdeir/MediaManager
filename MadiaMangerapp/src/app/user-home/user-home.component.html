<app-navbar></app-navbar>

<div class="container mt-4">
  <div class="row">
    <div class="col-md-4" *ngFor="let media of medien">
      <div class="card mb-4 dynamic-effect">
        <div class="col-md-12">
        <div class="watch-responsive watch-responsive-16by9">
          <iframe class="watch-responsive-item" [src]="media.urltrailer | safe" width="100%"></iframe>
        </div>
        </div>
        <div class="card-body">
          <h5 class="card-title font-color-gold mb-3">{{ media.titel }}</h5>
          <p class="card-text scrollable" >{{ media.beschreibung }}</p>
          <p class="card-text"><span style="font-weight: bold;">Release date:</span> {{ media.veroeffentlichungsjahr }}</p>

          <app-bewertung [inputMedia]="media"></app-bewertung>

          <div class="mt-3">
            <div class="rating-container">
              <span class="rating-title">Bewertung: </span>
              <div class="star-rating" (mouseleave)="unhoverStars()">
                <span
                  *ngFor="let star of [1, 2, 3, 4, 5]"
                  class="star"
                  [ngClass]="{ 'selected': star <= selectedStars }"
                  [id]="'star-' + star"
                  (click)="onStarClick(star)"
                  (mouseenter)="hoverStars(star)">
                  &#9733;
                </span>
              </div>
              <span class="selected-stars">{{ selectedStars }} von 5 Sternen ausgew√§hlt</span>
            </div>
            

            <textarea [(ngModel)]="newComment" placeholder="Enter your comment" required="required" style="width: 100%; height: 80px;"></textarea>
            <br>
            <button (click)="addComment(media)" class="btn gold-color mt-2" [disabled]="isCommentEmpty()">Add Comment</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
